# 操作系统的访问控制设计实例研究

### 实验环境：

操作系统版本：Android 10 MIUI12.5.1.0(QFHCNXM)

硬件设备型号：Redmi Note 7 Pro

是否默认设置：是



### 实验结果：

以MIUI为研究对象：

* 当系统处于锁屏状态下接收到新短信时，不解锁情况下

  - 系统是否允许查看短信内容？**允许** 
  - 系统是否允许回复短信？**不允许**
  - 安卓上的 App : 以 ***微信电话本*** 为例，在接管了系统短信功能和权限之后，是否会有一些不同的功能设定? **无微信电话本功能**

* 当系统处于锁屏状态下，使用系统内置（例如 iOS 的 Siri ）或第三方的语音助手可以完成以下哪些操作？

   以下所有操作都需要语音助手对说话人进行声纹识别，非机主不能进行唤起。

  - 访问通讯录：不能访问通讯录，需要解锁手机
  - 拨打电话：可以拨打电话
  - 访问相册：不能访问相册，需要解锁手机
  - 查看短信收件箱：不能查看收件箱，需要解锁手机

* 如果你的手机支持指纹识别解锁手机，请实验并分析指纹识别相比较于简单密码、复杂密码、图形解锁、人脸识别解锁、声纹解锁等解锁方式的安全性、便利性差异。

  |        | 简单密码       | 复杂密码           | 图形解锁                                                 | 人脸识别解锁                           | 声纹解锁                                           |
  | ------ | -------------- | ------------------ | -------------------------------------------------------- | -------------------------------------- | -------------------------------------------------- |
  | 安全性 | 易被破解       | 安全性高于简单密码 | 有收到偷窥的使手机被解锁的可能性                         | 根据识别算法的准确性不同有不同的安全性 | 同人脸识别                                         |
  | 便利性 | 较为快速地输入 | 解锁过程较为繁杂   | 若图形简单则类比简单密码，图形复杂则类比复杂密码的便利性 | 较为简便，但受制于光线条件的影响       | 较为简便，但受制于环境嘈杂和机主自身声带条件的影响 |

  

### 课后思考：

**1. 生物特征身份认证方式有哪些？优缺点分析？应用场景举例。**

- 声音：声纹识别
    - 优点：
        1. 蕴含声纹特征的语音获取方便、自然；
        2. 获取语音的成本低廉，使用简单，像麦克风、通讯设备等皆可；
        3. 适合远程身份确认；
        4. 声纹辨认和确认的算法复杂度低；
        5. 配合一些其他措施，如通过语音识别进行内容鉴别等，可以提高准确率。
        
    - 缺点：
        1. 同一个人的声音具有易变性，易受身体状况、年龄、情绪等的影响
        2. 不同的麦克风和信道对识别性能有影响；
        3. 环境噪音对识别有干扰；
        4. 混合说话人的情形下人的声纹特征不易提取；
        5. 当人感冒，咽喉发炎等情况声带特性会发生变化而导致识别障碍
        
    - 应用场景：
    
        手机语音助手语言识别解锁
    
- 脸：人脸识别
    - 优点：
        1. 速度快
        2. 具有“非接触性”，可以大大提升系统响应速度，同时避免指纹机器接触产生的卫生隐患
    - 缺点：
        1. 存在无法识别双胞胎的可能性
        2. 人脸的外形很不稳定，人可以通过脸部的变化产生很多表情，而在不同观察角度，人脸的视觉图像也相差很大
        3. 人脸识别受到光照影响很大，如果光线不好，也会引起识别的准确度。
    - 应用场景：
        人脸支付、电子设备解锁
    
- 指纹：指纹识别
    - 优点：
        1. 指纹是人体独一无二的特征，并且它们的复杂度足以提供用于鉴别的足够特征。
        2. 如果想要增加可靠性，只需登记更多的指纹，鉴别更多的手指，最多可以达到十个，而每一个指纹都是独一无二的。
        3. 扫描指纹的速度很快，使用非常方便。
    - 缺点：
        1. 每一次使用指纹时都会在指纹采集头上留下用户的指纹印痕，而这些指纹痕迹存在被用来复制指纹的可能性。
        2. 某些人或某些群体的指纹因为指纹特征很少，故而很难成像。
        3. 在手指非干燥时，指纹识别困难
    - 应用场景：
        电子设备解锁，包括门锁、电脑、手机等

- 虹膜：虹膜识别
    - 优点：
	    1. 便于用户使用；
	    2. 可靠
	    3. 不需物理的接触；
- 缺点：
	1. 很难将图像获取设备的尺寸小型化；
    	2. 设备造价高，无法大范围推广；
              	3. 镜头可能产生图像畸变而使可靠性降低；
- 应用场景：
	安防设备（如门禁等），以及有高度保密需求的场所

- 还有体型：体形识别;个人习惯（例如敲击键盘的力度和频率、签字）：键盘敲击识别、签字识别、指静脉识别等等一系列生物特征身份认证

**2. “找回口令功能”和“忘记密码”在访问授权机制中的意义？请尝试设计几种安全的“找回口令功能”，详细描述找回口令的用户具体操作过程。**

- 意义：

   “找回口令功能”和“忘记密码”是在真正被授权用户忘记口令时重新获取权限的方式，从而对客体能够正常访问

- “找回口令功能”方案设计：

  - 基于“双因素认证”。

    安全假设是用户有一台可信任设备(比如用户的手机、USB KEY等),在用户使用找回口令功能的时候，服务器能够向可信任设备发送一个动态密码，只有用户在网页上输入该动态密码才能进行口令更改。

    注：此处动态密码可根据成本进行更换，包括：手机短信密码、混合型令牌（USBKEY+[动态口令](https://baike.baidu.com/item/动态口令)）等

**3. 绘制用户使用用户名/口令+图片验证码方式录系统的流程图。考虑认证成功和失败两种场景，考虑授权成功和失败两种场景。**

![Process](\img\Process.png)



**4. Windows XP / 7 中的访问控制策略有哪些？访问控制机制有哪些？**

* 访问令牌
* 安全描述符
  * 安全标识
  * 访问控制列表
    * 自主访问控制列表
      * 访问控制项
    * 系统访问控制列表

[参考资料](https://www.cnblogs.com/zplutor/archive/2010/01/05/1639892.html)



**5. 用权限三角形模型来理解并描述下 2 种威胁模型：提权、仿冒。**

* 仿冒：用户A以用户B的身份进行了认证，拥有了用户B才拥有的权利。用户在系统看来角色进行了变更，相对应的权利因而发生了变化。即账号是不一样的。
* 提权：过程中账号没有发生变化
  * 水平：获得其他同等权限的其他用户权限，进行攻击
  * 纵向：获得更高权限的用户(如管理员账号)，进行攻击



**6.试通过操作系统的访问控制机制来达到预防一种真实病毒的运行目的。**

通过访问授权的控制，将一些与系统相关的调用常态化地设置为非管理员权限不可调用，使用时必须手动开启管理员权限，如Linux中的sudo，控制恶意行为的进行。



**7.什么是OAuth？**

OAuth(开放授权)是一个开放标准。允许第三方网站在用户授权的前提下访问在用户在服务商那里存储的各种信息。而这种授权无需将用户提供用户名和密码提供给该第三方网站。OAuth允许用户提供一个令牌给第三方网站，一个令牌对应一个特定的第三方网站，同时该令牌只能在特定的时间内访问特定的资源。



**8.什么是OpenID**

OpenID 是一个以用户为中心的数字身份识别框架，是一个以URL为身份标识的分散式身份验证解决方案.OpenID通过URL来认证一个网站的唯一身份，同理，也可以让每人通过一个URL(一个OpenID身份就是一个URL)，在多个网站上进行登录，作为用户的身份认证。



**9.试用本章所学理论分析 OAuth 和 OpenID 的区别与联系。**

OAuth关注的是authorization；而OpenID侧重的是authentication

OAuth 是给予第三方网站从身份认证到访问授权的全部流程，并且更注重于授权。

OpenID仅仅是为了让网站知道正在访问的主体是你，将身份标识唯一的绑定到主体而已。



**10.如何使用 OAuth 和 OpenID 相关技术实现单点登录（Single Sign On）**

1. 当用户第一次登录时，将用户名密码发送给用户服务
2. 验证用户将用户标识OpenId返回到客户端
3. 客户端进行存储
4. 访问子系统,将OpenId发送到子系统
5. 子系统将OpenId转发到验证服务
6. 验证服务将用户认证信息返回给子系统
7. 子系统构建用户验证信息后将授权后的内容返回给客户端



### 参考资料：

- [开放授权（OAuth）](https://zh.wikipedia.org/wiki/开放授权)
- [OpenID](https://zh.wikipedia.org/wiki/OpenID)
